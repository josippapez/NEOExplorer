(this["webpackJsonpneo-explorer"]=this["webpackJsonpneo-explorer"]||[]).push([[0],{32:function(e,t,a){e.exports=a(59)},37:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),o=a.n(l);a(37);var c=function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("label",{className:"navbar-brand center"},"NEO Explorer")))},i=a(7),s=a(8),d=a(11),m=a(9),E=a(12),u=a(28),p=a.n(u),h=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){for(var e,t,a,n=this.refs.canvas.getContext("2d"),r=0;r<5*Math.random();r++)t=140*Math.random(),a=50*Math.random(),(e=n.createRadialGradient(t,t,a,t,t,0)).addColorStop(0,"black"),e.addColorStop(.3,"white"),n.fillStyle=e,n.beginPath(),n.arc(t,t,a,0,2*Math.PI),n.fill();n.beginPath(),n.lineWidth=3,n.arc(100,100,100,0,2*Math.PI),n.stroke()}},{key:"render",value:function(){var e=this.props.nearEarthObject;return r.a.createElement("div",{className:"card shadow-lg mb-3",style:{backgroundColor:"".concat(p()({luminosity:"dark"}))}},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("canvas",{className:"top-buffer",ref:"canvas",width:"200px",height:"200px",style:{backgroundColor:"#e0ebeb"}}),r.a.createElement("h5",{className:"text-white card-title"},e.name)),r.a.createElement("div",{className:"card-body col-md-8 bg-light p-5"},r.a.createElement("p",{className:"font-weight-bold"},"ESTIMATED DIAMETER"),r.a.createElement("div",{className:"row neo-data"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("p",null,"ESTIMATED DIAMETER (min):"),r.a.createElement("p",null,"ESTIMATED DIAMETER (max):"),r.a.createElement("p",null,"ESTIMATED DIAMETER (mean):"),r.a.createElement("p",null,"IS IT POTENTIALLY HAZARDOUS:")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("p",null,Number(e.estimated_diameter.meters.estimated_diameter_min).toFixed(2)," m"),r.a.createElement("p",null,Number(e.estimated_diameter.meters.estimated_diameter_max).toFixed(2)," m"),r.a.createElement("p",null,Number((e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min)/2).toFixed(2)," m"),r.a.createElement("p",null,e.is_potentially_hazardous_asteroid?"YES":"NO"))),e.close_approach_data.length>0?r.a.createElement("div",null,r.a.createElement("p",{className:"font-weight-bold"},"CLOSE APPROACH DATA"),r.a.createElement("div",{className:"row neo-data"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("p",null,"ORBITING BODY:"),r.a.createElement("p",null,"RELATIVE VELOCITY:"),r.a.createElement("p",null,"MISS DISTANCE:")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("p",null,e.close_approach_data[e.close_approach_data.length-1].orbiting_body),r.a.createElement("p",null,Number(e.close_approach_data[e.close_approach_data.length-1].relative_velocity.kilometers_per_hour).toFixed(2)," km/h"),r.a.createElement("p",null,e.close_approach_data[e.close_approach_data.length-1].miss_distance.kilometers.length>5?Number(499.004784*e.close_approach_data[e.close_approach_data.length-1].miss_distance.astronomical).toFixed(3)+" ls":Number(e.close_approach_data[e.close_approach_data.length-1].miss_distance.kilometers).toFixed(0)+" km")))):"",r.a.createElement("p",{className:"font-weight-bold"},"ORBITAL DATA"),r.a.createElement("div",{className:"row neo-data"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("p",null,"FIRST OBSERVATION DATE:"),r.a.createElement("p",null,"LAST OBSERVATION DATE:"),r.a.createElement("p",null,"ORBIT DETERMINATION DATE:")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("p",null,e.orbital_data.first_observation_date),r.a.createElement("p",null,e.orbital_data.last_observation_date),r.a.createElement("p",null,e.orbital_data.orbit_determination_date))),null!=e.orbital_data.orbit_class?r.a.createElement("div",{className:"row neo-data"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("p",null,"ORBIT CLASS TYPE:"),r.a.createElement("p",null,"ORBIT CLASS DESCRIPTION:")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("p",null,e.orbital_data.orbit_class.orbit_class_type),r.a.createElement("p",null,e.orbital_data.orbit_class.orbit_class_description))):"")))}}]),t}(n.Component);var _=function(e){var t=e.merged;return r.a.createElement("div",{className:"row m-5 p-0"},r.a.createElement("div",{className:"col"},t&&t.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(h,{nearEarthObject:e}))}))))},f=a(10),b=a(16),g=a.n(b),T=a(4),N=a.n(T),v="QnCEMFdmeYQRH588hNRQVYtjQeJlKgsvs8XXIN5B",S="",O="",I=new Date,y=String(I.getDate()).padStart(2,"0"),A=String(I.getMonth()+1).padStart(2,"0"),D=I.getFullYear();I=D+"-"+A+"-"+y;var k=function(e){return function(t,a){S=function(e){var t=(e=new Date(e)).getDay(),a=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(a))}(O=I);var n=String(S.getDate()).padStart(2,"0"),r=String(S.getMonth()+1).padStart(2,"0"),l=S.getFullYear();S=l+"-"+r+"-"+n,g.a.get("https://api.nasa.gov/neo/rest/v1/feed/?start_date=".concat(S,"&end_date=").concat(O,"&detailed=true&api_key=").concat(v)).then((function(a){return t(M(e,a=N.a.flatMap(a.data.near_earth_objects)))})).catch((function(e){t({type:"FETCH_NEO_THIS_WEEK_ERROR",err:e})}))}},M=function(e,t){return function(a,n){a({type:"FETCH_NEO_SORTED",data:t="ESTIMATED DIAMETER (mean)"===e?N.a.orderBy(t,(function(e){return(e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min)/2}),["desc"]):"MISS DISTANCE"===e?N.a.orderBy(t,(function(e){return e.close_approach_data[e.close_approach_data.length-1].miss_distance.astronomical}),["desc"]):N.a.orderBy(t,(function(e){return e.close_approach_data[e.close_approach_data.length-1].relative_velocity.kilometers_per_hour}),["desc"])})}},w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={mergedandSorted:[],flag:!0,sorting:"ESTIMATED DIAMETER (mean)"},a.handleClickToday=function(){a.setState({flag:!0},(function(){a.componentWillMount()}))},a.handleClickThisWeek=function(){a.setState({flag:!1},(function(){a.props.fetchNEOforThisWeek(a.state.sorting)}))},a.handleSortByDiameter=function(e){a.setState({sorting:"ESTIMATED DIAMETER (mean)"},(function(){a.props.fetchNEOSorted(a.state.sorting,e)}))},a.handleSortByDistance=function(e){a.setState({sorting:"MISS DISTANCE"},(function(){a.props.fetchNEOSorted(a.state.sorting,e)}))},a.handleSortByVelocity=function(e){a.setState({sorting:"RELATIVE VELOCITY"},(function(){a.props.fetchNEOSorted(a.state.sorting,e)}))},a}return Object(E.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchNEOforToday(this.state.sorting)}},{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"selectors top-buffer"},r.a.createElement("button",{type:"button",className:"btn btn-light mx-2",onClick:this.handleClickToday,disabled:this.state.flag},"Today"),r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.handleClickThisWeek,disabled:!this.state.flag},"This Week"),r.a.createElement("div",{className:"text-white float-right"},"SORT BY:",r.a.createElement("button",{className:"btn btn-secondary dropdown-toggle ml-3",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.sorting),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("button",{className:"dropdown-item",onClick:function(){e.handleSortByDiameter(t)}},"ESTIMATED DIAMETER (mean)"),r.a.createElement("button",{className:"dropdown-item",onClick:function(){e.handleSortByDistance(t)}},"MISS DISTANCE"),r.a.createElement("button",{className:"dropdown-item",onClick:function(){e.handleSortByVelocity(t)}},"RELATIVE VELOCITY")))),t&&r.a.createElement(_,{merged:t}))}}]),t}(n.Component),R=Object(f.b)((function(e){return{data:e.data}}),(function(e){return{fetchNEOforToday:function(t){return e(function(e){return function(t,a){S=I,O=I,g.a.get("https://api.nasa.gov/neo/rest/v1/feed/?start_date=".concat(S,"&end_date=").concat(O,"&detailed=true&api_key=").concat(v)).then((function(a){return t(M(e,a=N.a.flatMap(a.data.near_earth_objects)))})).catch((function(e){t({type:"FETCH_NEO_ERROR",err:e})}))}}(t))},fetchNEOforThisWeek:function(t){return e(k(t))},fetchNEOSorted:function(t,a){return e(M(t,a))}}}))(w);var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c,null),r.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(5),x=a(30),j=a(31),F={data:[]},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEO_SORTED":return console.log("Fetched sorted data: ",t.data),Object(j.a)({},e,{data:t.data});default:return e}},Y=Object(B.c)(L,Object(B.a)(x.a));o.a.render(r.a.createElement(f.a,{store:Y},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.a00bdeed.chunk.js.map